<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- 
      The BIP37 parameters will be replaced with the 
      document title extracted from the <h1> element or
      file name, if there is no <h1> heading
    -->
    <title>BIP37</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="http://code.jquery.com/jquery-1.11.2.js"></script>
    <script src="http://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
    <script src="http://getbootstrap.com/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="content/style.css" />
    <script src="content/tips.js" type="text/javascript"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">Bitcoin F#</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="Protocol.html">Protocol</a></li>
            <li><a href="DB.html">Persistence</a></li>
            <li><a href="P2P.html">Peer to Peer</a></li>
            <li><a href="Peer.html">Peer</a></li>
            <li><a href="Tracker.html">Tracker</a></li>
            <li><a href="Script.html">Script Interpreter</a></li>
            <li><a href="Mempool.html">Mempool</a></li>
            <li><a href="Checks.html">Validation</a></li>
            <li><a href="Blockchain.html">Blockchain</a></li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Misc <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                    <li><a href="Main.html">Main</a></li>
                    <li><a href="Test.html">Tests</a></li>
                    <li><a href="Building.html">Building and Running</a></li>
                    <li><a href="BIP37.html">SPV</a></li>
                    <li><a href="Changelog.html">Changelog</a></li>
                </ul>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <div class="container">
      <div class="row" style="margin-top:70px">
        <div class="span1"></div>
        <div class="span10" id="main">
          <h2>BIP 37</h2>

<p>BIP-37 enhances the protocol with Bloom filters on blocks and transactions per peer. It greatly improves the performance of SPV clients. They can download the data that matches the data they want - typically public key hashes - and thus reduce the amount of data transferred. With this checkin, Bitcoin F# supports BIP 37. It was tested with a SPV wallet.</p>

<h2>Various changes</h2>

<ul>
<li>Block headers have are linked by next hash in addition to previous hash. It improves the performance of getheaders queries.</li>
<li>Block headers have a flag indicating whether they belong to the main chain or not.</li>
<li>If a node sends headers that are more than 10 000 blocks ago, the headers are ignored. Some node somehow reply with the genesis block to a recent getheaders message.</li>
<li>Rename GetBlock to DownloadBlock to differenciate from the getBlock message.</li>
<li>Send notfound message for inventory that is not found.</li>
<li>Replace RX Subjects with .NET Events when the subjects are external to the component. Events are less coupled that Subjects and they allow calling Dispose on the component.</li>
</ul>

                    
        </div>
        <div class="span1"></div>
      </div>
    </div>
  </body>
</html>
